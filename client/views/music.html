<html ng-app= "musicApp">
  <head>
    <title>Music Fly</title>
    <link rel="stylesheet" type="text/css" href="/css/music.css">
    <link rel="stylesheet" type="text/css" href="/dist/semantic.css">
    <link rel="stylesheet" type="text/css" href="/font-awesome/css/font-awesome.css">      
    <script type="text/javascript" src="/angular/angular.js"></script>
    <script type="text/javascript" src="/jquery/dist/jquery.js"></script>
    <script src="/dist/semantic.js"></script>    
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular-route.js"></script>
  </head>
  <body>
    <div id="user-bar">
    </div>
    <div class = "ui fluid sixteen wide column grid" ng-controller= "musicPlayer as player">  
      <div id="music-app" class="row">
        <div class = "ui three wide column">
          <div id="search-type">
            <span>Search By:</span>
            <i class="fa fa-soundcloud fa-3x" ng-click= "player.changeSearch($event)" data-search="sc"></i>
            <i class="fa fa-spotify fa-3x" ng-click= "player.changeSearch($event)" data-search="spotify"></i>            
          </div>
          <div id="search-spotify" ng-show='player.searchDisplay.spotify' data-search="spotify">
            <h4 >Spotify</h4>
            <input id="spotify-box" type="text" ng-model="spotifyQuery" ng-keypress="spotifySearchEnter()" >
          </div>
          <div id="search-sc" ng-show='player.searchDisplay.sc'>
            <h5>SoundCloud</h>
            <input id="sc-box" type="text" ng-model="scQuery"
            ng-keypress="scSearchEnter()"/>
          </div>
          
          <div id="top-artists" >
            <i class="star icon"></i>
            <span class="music-tab" ng-click="player.switchTabs($event)" data-tab="topArtists">Top Artists</span>
          </div>

          <div id="search">
            <div>
              <i class="search icon"></i>
              <span class="music-tab" ng-click="player.switchTabs($event)" data-tab="search">Search</span>
            </div>
          </div>

          <div id ="playlists">
            <div>  
              <i class="list icon"></i>
              <span>Playlists</span>
              <input id="playlist-field" type="text" ng-model="newPlaylist"/>
              <span id="playlist-add" ng-click="player.createNewPlaylist()">Add new</span> 
            </div>
            <div>
              <li ng-repeat = "playlist in player.playlistTabs" class="music-tab" data-tab='{{playlist.name}}' data-playlist = "playlist.name" ng-click="player.switchTabs($event, playlist.name)">
                <i class="music icon"></i>
                {{playlist.name}}
              </li>
            </div>       
          </div>
        </div>





        <div id="pages-section" class="ui nine wide column">
          <div id="top-artists-page" class="music-page hidden" data-page="topArtists">
            This will be the top Artists Page
          </div>



          <div id="song-interface" class="music-page" data-page="search">
            <div id="search-page">                            
              <div id="search-list" >
                <div class= "ui container grid eleven wide column" song-list></div>
              </div>
            </div>
          </div>
          <div>
            <li ng-repeat= "playlistPage in player.playlistTabs" data-page="{{playlistPage.name}}" class="music-page hidden">
              <div>
                <h3>{{playlistPage.name}}</h3>
                <div song-list></div>
              </div>
            </li>
          </div>
        </div> 

        <div id="music-player" class="ui four wide column">
          <div class= "">
            <div id="player-img" class="ui centered">       
              <img ng-src= "{{player.playerImage}}" class="ui image">
            </div>
            <div id="player-track-info" class="">
              <div id="track-info">
                <h4 id="player-track-title">{{player.playerTitle}}</h4>
                <p id="player-track-artist">{{player.playerArtist}}</p>
                <p id="player-track-album">{{player.playerInfo}}</p>
              </div>
              <div id="player-controls" ng-click=player.togglePlay()>
                <i id="play-btn"  class="large circular {{player.playStateButton}}"></i>
              </div>       
            </div>  
          </div>                
        </div>          
      </div>
  <script type="text/javascript" src="/underscore/underscore.js"></script>
  <script src="https://connect.soundcloud.com/sdk/sdk-3.0.0.js"></script>
  <script type="text/javascript" src="/js/music/music.js"></script>
  </body>
</html>